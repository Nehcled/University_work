HM2	START 0
FIRST	LDT #10
	LDX #1
FSPACE	TD OUTDEV
	JEQ FSPACE
	LDA SPACE
	WD OUTDEV
	LDA #1
	STA IINDEX
LOOPT	JSUB PRINT
	TIXR T
	JLT LOOPT
	JSUB CRLF
	LDX #1
LOOP1	STX IINDEX
	LDX #1
	LDA IINDEX
	ADD ITOA
	WD OUTDEV
LOOP2	JSUB PRINT
	TIXR T
	JLT LOOP2
	LDX IINDEX
	JSUB CRLF
	TIXR T
	JLT LOOP1
ENDING	J ENDING

PRINT	TD OUTDEV
	JEQ PRINT
	LDA IINDEX
	MULR X,A
	STA VAL
	COMP #10
	LDA SPACE
	JLT ONEDIG
	WD OUTDEV
	LDA VAL
	DIV #10
	STA TEMP
	ADD ITOA
	WD OUTDEV
	LDA TEMP
	MUL #10
	STA TEMP
	LDA VAL
	SUB TEMP
	ADD ITOA
	WD OUTDEV
	J ENDP
ONEDIG	WD OUTDEV
	WD OUTDEV
	LDA VAL
	ADD ITOA
	WD OUTDEV
ENDP	RSUB

CRLF	TD OUTDEV	CHANGE LINE
	JEQ CRLF
	LDA CR
	WD OUTDEV
	LDA LF
	WD OUTDEV
	RSUB

OUTDEV	BYTE X'F2'
CR	WORD 0x0D
LF	WORD 0x0A
SPACE	WORD 0x20
ITOA	WORD 0x30
IINDEX	RESW 1
VAL	RESW 1
TEMP	WORD 1
	END FIRST

